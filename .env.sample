# CommuCat environment template (RU/EN comments)
# Конфигурационный файл по умолчанию / Default config file path
COMMUCAT_CONFIG=commucat.toml

# --- Storage backends ---
# PostgreSQL DSN (postgres://user:pass@host:port/db)
COMMUCAT_PG_DSN=postgres://commucat:commucat@localhost:5432/commucat
# Redis URL (presence, rendezvous caches)
COMMUCAT_REDIS_URL=redis://127.0.0.1:6379

# --- Listener / TLS ---
# Listener bind address (TLS, HTTP/2 upgrade)
COMMUCAT_BIND=0.0.0.0:8443
# TLS certificate & key (PEM)
COMMUCAT_TLS_CERT=certs/server.crt
COMMUCAT_TLS_KEY=certs/server.key
# Public domain (must match TLS CN/SAN)
COMMUCAT_DOMAIN=example.org
# TCP keep-alive interval (seconds)
COMMUCAT_KEEPALIVE=60

# --- Device onboarding ---
# Auto-approve new devices (true/false)
COMMUCAT_AUTO_APPROVE_DEVICES=true
# Max auto-approved devices per user (0 disables auto-approval)
COMMUCAT_MAX_AUTO_DEVICES=5

# --- TTL limits (seconds) ---
COMMUCAT_PRESENCE_TTL=30
COMMUCAT_RELAY_TTL=86400
COMMUCAT_PAIRING_TTL=300

# --- Noise / PQ seeds ---
COMMUCAT_NOISE_PRIVATE=000102030405060708090a0b0c0d0e0f000102030405060708090a0b0c0d0e0f
COMMUCAT_NOISE_PUBLIC=101112131415161718191a1b1c1d1e1f101112131415161718191a1b1c1d1e1f
COMMUCAT_NOISE_PROLOGUE=commucat
# Federation Ed25519 seed (hex)
COMMUCAT_FEDERATION_SEED=202122232425262728292a2b2c2d2e2f202122232425262728292a2b2c2d2e2f

# --- Federation peers ---
# Semicolon separated: domain,https_endpoint,public_key_hex32
COMMUCAT_FEDERATION_PEERS=remote.example,https://remote.example/federation,303132333435363738393a3b3c3d3e3f303132333435363738393a3b3c3d3e3f;another.example,https://another.example/fed,aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa

# --- Ledger ---
# null | debug | file
COMMUCAT_LEDGER=file
# Path for file adapter (ignored for null/debug)
COMMUCAT_LEDGER_TARGET=var/log/commucat-ledger.jsonl

# --- Administration ---
# Bearer token for /metrics and /api/security-stats
COMMUCAT_ADMIN_TOKEN=ZSGM8U+uFlUH5PsusdGPAogsbzpxHZc1r3fcdlSezZ4zFHSUhGzogsbdd619w9jO

# --- REALITY / obfuscation transport (optional) ---
# REALITY certificate path (PEM) and fingerprint (32 bytes hex)
COMMUCAT_REALITY_CERT=certs/reality.pem
COMMUCAT_REALITY_FINGERPRINT=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
